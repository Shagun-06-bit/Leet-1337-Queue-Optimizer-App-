<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Registration | QueueMaster</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .step-inactive { display: none; }
        .progress-bar { transition: width 0.4s ease-in-out; }
    </style>
</head>
<body class="bg-slate-50 font-sans antialiased text-slate-900">

    <div class="min-h-screen flex items-center justify-center p-6">
        <div class="max-w-2xl w-full bg-white rounded-2xl shadow-xl overflow-hidden">
            
            <div class="bg-slate-900 p-8 text-white">
                <h1 class="text-2xl font-bold">Register Your Business</h1>
                <p class="text-slate-400 text-sm mt-1">Setup your smart queue management system in minutes.</p>
                
                <div class="mt-6 h-2 w-full bg-slate-700 rounded-full overflow-hidden">
                    <div id="progressBar" class="progress-bar h-full bg-indigo-500" style="width: 20%;"></div>
                </div>
                <div class="flex justify-between mt-2 text-xs font-medium text-slate-400">
                    <span>DETAILS</span>
                    <span>ADMIN</span>
                    <span>QUEUE</span>
                    <span>ALERTS</span>
                    <span>FINISH</span>
                </div>
            </div>

            <form id="regForm" class="p-8">
                
                <div class="step" id="step1">
                    <h2 class="text-xl font-semibold mb-4 flex items-center gap-2">
                        <i class="fa-solid fa-building text-indigo-500"></i> Basic Details
                    </h2>
                    <div class="space-y-4">
                        <input type="text" placeholder="Business Name" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none" required>
                        <select class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none">
                            <option value="">Select Business Type</option>
                            <option>Canteen</option>
                            <option>Hospital</option>
                            <option>Hotel</option>
                            <option>Bank</option>
                            <option>Government Office</option>
                        </select>
                        <input type="text" placeholder="Business Address" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none">
                        <div class="grid grid-cols-2 gap-4">
                            <input type="text" placeholder="City" class="p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none">
                            <input type="text" placeholder="State" class="p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none">
                        </div>
                        <input type="text" placeholder="Operating Hours (e.g. 09:00 - 18:00)" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none">
                    </div>
                </div>

                <div class="step step-inactive" id="step2">
                    <h2 class="text-xl font-semibold mb-4 flex items-center gap-2">
                        <i class="fa-solid fa-user-shield text-indigo-500"></i> Admin Details
                    </h2>
                    <div class="space-y-4">
                        <input type="text" placeholder="Admin Full Name" class="w-full p-3 border rounded-lg outline-none">
                        <input type="email" placeholder="Official Email Address" class="w-full p-3 border rounded-lg outline-none">
                        <input type="tel" placeholder="Phone Number (Optional)" class="w-full p-3 border rounded-lg outline-none">
                        <div class="grid grid-cols-2 gap-4">
                            <input type="password" placeholder="Create Password" class="p-3 border rounded-lg outline-none">
                            <input type="password" placeholder="Confirm Password" class="p-3 border rounded-lg outline-none">
                        </div>
                    </div>
                </div>

                <div class="step step-inactive" id="step3">
                    <h2 class="text-xl font-semibold mb-4 flex items-center gap-2">
                        <i class="fa-solid fa-list-ol text-indigo-500"></i> Queue Setup
                    </h2>
                    <div class="space-y-4">
                        <label class="block text-sm font-medium text-gray-700">Number of Active Counters</label>
                        <input type="number" min="1" placeholder="e.g. 3" class="w-full p-3 border rounded-lg outline-none">
                        
                        <label class="block text-sm font-medium text-gray-700">Primary Counter Type</label>
                        <div class="flex flex-wrap gap-2">
                            <button type="button" class="px-4 py-2 border rounded-full hover:bg-indigo-50 text-sm">Billing Counter</button>
                            <button type="button" class="px-4 py-2 border rounded-full hover:bg-indigo-50 text-sm">OPD Registration</button>
                            <button type="button" class="px-4 py-2 border rounded-full hover:bg-indigo-50 text-sm">Food Pickup</button>
                        </div>
                        
                        <input type="text" placeholder="Avg Service Time (mins)" class="w-full p-3 border rounded-lg outline-none">
                    </div>
                </div>

                <div class="step step-inactive" id="step4">
                    <h2 class="text-xl font-semibold mb-4">Notification & Privacy</h2>
                    <div class="space-y-4">
                        <label class="flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50">
                            <input type="checkbox" class="w-5 h-5 accent-indigo-500" checked>
                            <span class="text-sm">Enable Queue Alerts & Overcrowding Notifications</span>
                        </label>
                        <div class="p-4 bg-blue-50 text-blue-800 text-xs rounded-lg border border-blue-100">
                            <strong>Privacy Confirmation:</strong> We value data integrity. Our system operates purely on numerical data. <strong>No camera or video feeds are used or accessed.</strong>
                        </div>
                        <label class="flex items-start gap-3 mt-4">
                            <input type="checkbox" class="mt-1 w-4 h-4 accent-indigo-500" required>
                            <span class="text-xs text-gray-600">I agree to the <a href="#" class="text-indigo-600 underline">Privacy Policy</a> and confirm that data usage is solely for queue management.</span>
                        </label>
                    </div>
                </div>

                <div class="mt-10 flex justify-between">
                    <button type="button" id="prevBtn" onclick="nextPrev(-1)" class="px-6 py-2 bg-slate-200 text-slate-700 rounded-lg font-medium opacity-0">Back</button>
                    <button type="button" id="nextBtn" onclick="nextPrev(1)" class="px-8 py-2 bg-indigo-600 text-white rounded-lg font-bold shadow-lg hover:bg-indigo-700 transition">Next Step</button>
                </div>

            </form>
        </div>
    </div>

    <div id="successModal" class="fixed inset-0 bg-black/50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-8 max-w-sm w-full text-center">
            <div class="w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fa-solid fa-check text-4xl"></i>
            </div>
            <h2 class="text-2xl font-bold">Registration Successful!</h2>
            <p class="text-gray-600 mt-2">Your business dashboard is being prepared. Check your email for verification.</p>
            <button onclick="window.location.href='admin.html'"
        class="mt-6 w-full py-3 bg-indigo-600 text-white rounded-xl font-bold">
  Go to Dashboard
</button>
        </div>
    </div>

    <script>
        const BASE_URL = "https://queue-optimizer-app.onrender.com";
        const QUEUE_ID = "6963e88153b22c7a3b509fd3";

        let currentStep = 0;
        const steps = document.getElementsByClassName("step");
        const progressBar = document.getElementById("progressBar");

        function showStep(n) {
            steps[n].style.display = "block";
            
            // Manage visibility of Back button
            if (n == 0) {
                document.getElementById("prevBtn").style.opacity = "0";
                document.getElementById("prevBtn").style.pointerEvents = "none";
            } else {
                document.getElementById("prevBtn").style.opacity = "1";
                document.getElementById("prevBtn").style.pointerEvents = "auto";
            }

            // Change Next button text on last step
            if (n == (steps.length - 1)) {
                document.getElementById("nextBtn").innerHTML = "Register Business";
                document.getElementById("nextBtn").classList.replace('bg-indigo-600', 'bg-green-600');
            } else {
                document.getElementById("nextBtn").innerHTML = "Next Step";
                document.getElementById("nextBtn").classList.replace('bg-green-600', 'bg-indigo-600');
            }
            
            // Update Progress Bar
            let progress = ((n + 1) / steps.length) * 100;
            progressBar.style.width = progress + "%";
        }

        function nextPrev(n) {
            if (n == 1 && !validateForm()) return false;
            
            steps[currentStep].style.display = "none";
            currentStep = currentStep + n;

            if (currentStep >= steps.length) {
                document.getElementById("successModal").style.display = "flex";
                return false;
            }
            showStep(currentStep);
        }

        function validateForm() {
            // Basic validation for visual purposes
            let valid = true;
            let inputs = steps[currentStep].getElementsByTagName("input");
            for (let i = 0; i < inputs.length; i++) {
                if (inputs[i].hasAttribute('required') && inputs[i].value == "") {
                    inputs[i].classList.add("border-red-500");
                    valid = false;
                } else {
                    inputs[i].classList.remove("border-red-500");
                }
            }
            return valid;
        }
        
        // Initialize first step
        showStep(currentStep);
    </script>
</body>
</html>